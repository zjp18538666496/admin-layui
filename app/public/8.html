<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="layui.css">
    <title></title>
  </head>
  <link rel="stylesheet" type="text/css" href="./component/layui/css/layui.css" />
  <link rel="stylesheet" type="text/css" href="component/css/index.css" />
  <link rel="stylesheet" type="text/css" href="component/css/common.css" />
  <body class="layui-view-body">
    <!-- 侧边栏开始 -->
    <div class="sidebar left layui-side">
      <ul class="layui-nav layui-nav-tree">
        <li class="w-230 layui-font-blue layui-font-21 layui-nav-item">Pear Admin</li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;" class="h-59"><i class="layui-icon layui-icon-console">&nbsp;&nbsp;</i>工作空间</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="1" data-url="view/work/bac-data.html">控制后台</a></dd>
            <dd><a href="javascript:;" lay-id="2" data-url="view/work/analysis.html">数据分析</a></dd>
            <dd><a href="javascript:;" lay-id="3" data-url="https://cn.bing.com/">百度一下</a></dd>
            <dd><a href="javascript:;" lay-id="4">主题预览</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-component">&nbsp;&nbsp;</i>常用组件</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="5">基础组件</a></dd>
            <dd><a href="javascript:;" lay-id="6">进阶组件</a></dd>
            <dd><a href="javascript:;" lay-id="7">弹层组件</a></dd>
            <dd><a href="javascript:;" lay-id="8">高级组件</a></dd>
            <dd><a href="javascript:;" lay-id="9">其他组件</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-auz">&nbsp;&nbsp;</i>结果页面</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="10">成功</a></dd>
            <dd><a href="javascript:;" lay-id="11">失败</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-face-cry">&nbsp;&nbsp;</i>错误页面</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="12">403</a></dd>
            <dd><a href="javascript:;" lay-id="13">404</a></dd>
            <dd><a href="javascript:;" lay-id="14">500</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-set-fill">&nbsp;&nbsp;</i>系统管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="14" data-url="view/system/user.html">用户管理</a></dd>
            <dd><a href="javascript:;" lay-id="15" data-url="view/system/role.html">角色管理</a></dd>
            <dd><a href="javascript:;" lay-id="16" data-url="view/system/permission.html">权限管理</a></dd>
            <dd><a href="javascript:;" lay-id="17" data-url="view/system/manag.html">部门管理</a></dd>
            <dd><a href="javascript:;" lay-id="18" data-url="view/system/behavior.html">行为日志</a></dd>
            <dd><a href="javascript:;" lay-id="19" data-url="view/system/dd.html">数据字典</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-template-1">&nbsp;&nbsp;</i>常用页面</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="20" data-url="login.html">登录页面</a></dd>
            <dd><a href="javascript:;" lay-id="21">空白页面</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-chart">&nbsp;&nbsp;</i>工作空间</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="22">折线图</a></dd>
            <dd><a href="javascript:;" lay-id="23">柱状图</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item w-230 h-59">
          <a href="javascript:;"><i class="layui-icon layui-icon-util">&nbsp;&nbsp;</i>开发工具</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" lay-id="24">表单构建</a></dd>
          </dl>
        </li>
      </ul>
    </div>
    <!-- 导航栏开始 -->
    <div class="s1 white">
      <!-- 左导航栏 -->
      <div>
        <ul class="layui-nav white l-menu">
          <li class="layui-nav-item">
            <a href=""><span class="layui-icon layui-icon-shrink-right"
                style="color: black;font-size: 15px;"></span></a>
          </li>
          <li class="layui-nav-item">
            <a href=""><span class="layui-icon layui-icon-refresh-1" style="color: black;font-size: 15px;"></span></a>
          </li>
        </ul>
      </div>
      <!-- 右导航栏 -->
      <div>
        <ul class="layui-nav right white clearfix">
          <li class="layui-nav-item">
            <span class="layui-icon layui-icon-screen-full" style="color: black;font-size: 15px; padding: 0 20px;"
              onclick="handleFullScreen()" id="demo"></span>
            <span class="layui-icon layui-icon-screen-full" style="color: black;font-size: 15px; padding: 0 20px;"
              onclick="exitFullscreen()" id="b"></span>
          </li>
          <li class="layui-nav-item">
            <a href=""><span data-toggle="fullscreen" class="layui-icon layui-icon-website"
                style="color: black;font-size: 15px;"></span></a>
          </li>
          <li class="layui-nav-item">
            <a href=""><span class="layui-icon layui-icon-notice" style="color: black;font-size: 15px;"></span></a>
          </li>
          <li class="layui-nav-item">
            <a href=""><span class="layui-icon layui-icon-username" style="color: black;font-size: 15px;"></span></a>
          </li>
          <li class="layui-nav-item">
            <a href=""><span class="layui-icon layui-icon-more-vertical"
                style="color: black;font-size: 15px;"></span></a>
          </li>
        </ul>
      </div>
    </div>
    <div class="layui-tab layui-tab-brief" lay-filter="test">
      <ul class="layui-tab-title">
        <li class="layui-this tab1">item1</li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <iframe src="view/work/bac-data.html" style="border: 0;" class="innerbox"></iframe>
        </div>
      </div>
    </div>
  </body>

  <script src="./component/layui/layui.js" type="text/javascript" charset="utf-8"></script>
  <script src="./component/layer/layer.js" type="text/javascript" charset="utf-8"></script>
  <script src="./component/jquery/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>

  <script>
    layui.use(['element', ], function() {
      var $ = layui.jquery,
        element = layui.element;
      $(".layui-tab-title li").click(function() {
        var picTabNum = $(this).index();
        sessionStorage.setItem("picTabNum", picTabNum);
      });
      $(function() {
        var getPicTabNum = sessionStorage.getItem("picTabNum");
        $(".layui-tab-title li").eq(getPicTabNum).addClass("layui-this").siblings().removeClass("layui-this");
        $(".layui-tab-content>div").eq(getPicTabNum).addClass("layui-show").siblings().removeClass(
          "layui-show");
      })
      // 侧边栏绑定选项卡
      $(document).on('click', 'a', function() {
        if (!$(this)[0].hasAttribute("lay-id") || $(this).attr("lay-id") === '') {
          return;
        }
        var layid = $(this).attr("lay-id");
        var text = $(this).text();
        var dataurl = $(this).attr("data-url");
        var tabs = $(".layui-tab-title").children();
        var msg = true;
        $.each(tabs, function(i, item) {
          var tabid = $(item).attr("lay-id");
          if (tabid === layid) {
            msg = false;
            return false;
          }
        });
        if (msg) {
          element.tabAdd('test', {
            title: text,
            content: "<iframe frameborder='0' width='100%' height='100%' src='" +
              dataurl +
              "'></iframe>",
            id: layid
          });
        }
        resize();
        element.tabChange('test', layid);
      });


      function resize() {
        var $content = $(".layui-tab-content");
        $content.height($(this).height() - 114);
        $content.find('iframe').each(function() {
          $(this).height($content.height());
          $(this).width("100%")
        })
      }
      $(window).on('resize', function() {
        var $content = $(".layui-tab-content");
        $content.height($(this).height() - 114);
        $content.find('iframe').each(function() {
          $(this).height($content.height());
          $(this).width("100%")
        });
      });
      $(window).on('load', function() {
        var $content = $(".layui-tab-content");
        $content.height($(this).height() - 114);
        $content.find('iframe').each(function() {
          $(this).height($content.height());
          $(this).width("100%")
        });
      })
    });
  </script>
</html>
